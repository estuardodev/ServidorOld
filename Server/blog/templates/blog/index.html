{% load static %}
<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Blog | Estuardo Ramírez</title>

        <!--Estilo Reset-->
        <link rel="stylesheet" type="text/css" href="{% static 'blog/css/reset.css' %}">
        
        <!--Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
        <!--Estilo Propio-->
        <link rel="stylesheet" type="text/css" href="{% static 'blog/css/style.css' %}">

        <script src="{% static 'blog/js/limitar.js' %}"></script>

        <!--CPM-->
        <!-- Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->
        <script type="text/javascript" async=true>
            (function() {
            var host = 'www.themoneytizer.com';
            var element = document.createElement('script');
            var firstScript = document.getElementsByTagName('script')[0];
            var url = 'https://cmp.quantcast.com'
                .concat('/choice/', '6Fv0cGNfc_bw8', '/', host, '/choice.js');
            var uspTries = 0;
            var uspTriesLimit = 3;
            element.async = true;
            element.type = 'text/javascript';
            element.src = url;
            
            firstScript.parentNode.insertBefore(element, firstScript);
            
            function makeStub() {
                var TCF_LOCATOR_NAME = '__tcfapiLocator';
                var queue = [];
                var win = window;
                var cmpFrame;
            
                function addFrame() {
                var doc = win.document;
                var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);
            
                if (!otherCMP) {
                    if (doc.body) {
                    var iframe = doc.createElement('iframe');
            
                    iframe.style.cssText = 'display:none';
                    iframe.name = TCF_LOCATOR_NAME;
                    doc.body.appendChild(iframe);
                    } else {
                    setTimeout(addFrame, 5);
                    }
                }
                return !otherCMP;
                }
            
                function tcfAPIHandler() {
                var gdprApplies;
                var args = arguments;
            
                if (!args.length) {
                    return queue;
                } else if (args[0] === 'setGdprApplies') {
                    if (
                    args.length > 3 &&
                    args[2] === 2 &&
                    typeof args[3] === 'boolean'
                    ) {
                    gdprApplies = args[3];
                    if (typeof args[2] === 'function') {
                        args[2]('set', true);
                    }
                    }
                } else if (args[0] === 'ping') {
                    var retr = {
                    gdprApplies: gdprApplies,
                    cmpLoaded: false,
                    cmpStatus: 'stub'
                    };
            
                    if (typeof args[2] === 'function') {
                    args[2](retr);
                    }
                } else {
                    if(args[0] === 'init' && typeof args[3] === 'object') {
                    args[3] = { ...args[3], tag_version: 'V2' };
                    }
                    queue.push(args);
                }
                }
            
                function postMessageEventHandler(event) {
                var msgIsString = typeof event.data === 'string';
                var json = {};
            
                try {
                    if (msgIsString) {
                    json = JSON.parse(event.data);
                    } else {
                    json = event.data;
                    }
                } catch (ignore) {}
            
                var payload = json.__tcfapiCall;
            
                if (payload) {
                    window.__tcfapi(
                    payload.command,
                    payload.version,
                    function(retValue, success) {
                        var returnMsg = {
                        __tcfapiReturn: {
                            returnValue: retValue,
                            success: success,
                            callId: payload.callId
                        }
                        };
                        if (msgIsString) {
                        returnMsg = JSON.stringify(returnMsg);
                        }
                        if (event && event.source && event.source.postMessage) {
                        event.source.postMessage(returnMsg, '*');
                        }
                    },
                    payload.parameter
                    );
                }
                }
            
                while (win) {
                try {
                    if (win.frames[TCF_LOCATOR_NAME]) {
                    cmpFrame = win;
                    break;
                    }
                } catch (ignore) {}
            
                if (win === window.top) {
                    break;
                }
                win = win.parent;
                }
                if (!cmpFrame) {
                addFrame();
                win.__tcfapi = tcfAPIHandler;
                win.addEventListener('message', postMessageEventHandler, false);
                }
            };
            
            makeStub();
            
            var uspStubFunction = function() {
                var arg = arguments;
                if (typeof window.__uspapi !== uspStubFunction) {
                setTimeout(function() {
                    if (typeof window.__uspapi !== 'undefined') {
                    window.__uspapi.apply(window.__uspapi, arg);
                    }
                }, 500);
                }
            };
            
            var checkIfUspIsReady = function() {
                uspTries++;
                if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
                console.warn('USP is not accessible');
                } else {
                clearInterval(uspInterval);
                }
            };
            
            if (typeof window.__uspapi === 'undefined') {
                window.__uspapi = uspStubFunction;
                var uspInterval = setInterval(checkIfUspIsReady, 6000);
            }
            })();
        </script>
        <!-- End Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->
    </head>
    <body>
        <!--NAVBAR-->
        <nav class="navbar bg-light">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1">Blog | Estuardo Ramírez</span>
            </div>
        </nav>
        
        <!--TEXTO-->
        <div class="container">
            <h1>Bloque de artículos</h1><hr>
            <p>¡Encuentra aquí los artículos más recientes!</p><hr>
        </div>

        <!--MENUS-->
        <div class="container">
            
            <div class="row row-cols-1 row-cols-md-3 g-4">
                
                {% for a in articulos %}
                {% if a.id > resta %}
                <div class="col">
                    <div class="card h-100">
                        <img src="media/{{a.imagen}}" class="card-img-top" alt="{{a.alt_image}}">
                        <div class="card-body">
                            <h5 class="card-title">{{ a.titulo }}</h5>
                            <div class="card-text limitado" >{{ a.contenido }}</div>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Creado: {{a.created_at}}</small>
                        </div>
                        <a href="{{a.url}}" class="btn btn-primary">Leer más</a>
                    </div>
                </div>
                {% endif %}
                {% endfor %}
            </div>
            
            
        </div>

    <!--Inicio del Footer-->
    
    <div class="container">
      <footer class="py-3 my-4">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <li class="nav-item"><a href="#home" class="nav-link px-2 text-muted">Inicio</a></li>
          <li class="nav-item"><a href="https://www.estuardodev.com/terceros" target="_blank" class="nav-link px-2 text-muted">Atribuciones</a></li>
          <li class="nav-item"><a href="https://twitter.com/estuardodev" target="_blank" class="nav-link px-2 text-muted">Twitter</a></li>
          <li class="nav-item"><a href="https://www.instagram.com/estuardodev/" target="_blank" class="nav-link px-2 text-muted">Instagram</a></li>
          <li class="nav-item"><a href="https://www.linkedin.com/in/estuardodev" target="_blank" class="nav-link px-2 text-muted">Linkedin</a></li>
          <li class="nav-item"><a href="https://estuardodev.com/legal/politicas-de-privacidad/" target="_blank" class="nav-link px-2 text-muted">Privacidad</a></li>
          <li class="nav-item"><a href="https://estuardodev.com/legal/terminos-y-condiciones/" target="_blank" class="nav-link px-2 text-muted">Términos</a></li>
          <li class="nav-item"><a href="https://estuardodev.com/legal/cookies/" target="_blank" class="nav-link px-2 text-muted">Cookies</a></li>
        </ul>
        <br><p class="text-center text-muted">Mientras navegue por estas aguas, usted acepta nuestros términos y condiciones.</p>
        <p class="text-center text-muted">© 2022 Estuardo Ramírez | estuardodev</p>
      </footer>
    </div>
    <!--Fin del footer-->

        

        <!--Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        
    </body>
</html>